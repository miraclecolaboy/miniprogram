<view class="modern-nav {{extClass}}">
  <!-- ÂØºËà™Ê†èÂÆπÂô® -->
  <view class="nav-container" style="padding-top: {{safeAreaTop}}; background: {{background || 'var(--gradient-primary)'}};">
    
    <!-- Â∑¶‰æßÂå∫Âüü -->
    <view class="nav-left">
      <block wx:if="{{showBack}}">
        <view class="nav-btn back-btn" bindtap="onBack" hover-class="btn-hover">
          <text class="btn-icon">‚Äπ</text>
          <text class="btn-text" wx:if="{{backText}}">{{backText}}</text>
        </view>
      </block>
      
      <block wx:if="{{showHome}}">
        <view class="nav-btn home-btn" bindtap="onHome" hover-class="btn-hover">
          <text class="btn-icon">üè†</text>
        </view>
      </block>
      
      <slot name="left"></slot>
    </view>
    
    <!-- ‰∏≠Èó¥Âå∫Âüü -->
    <view class="nav-center">
      <block wx:if="{{loading}}">
        <view class="nav-loading">
          <view class="loading-spinner"></view>
        </view>
      </block>
      
      <block wx:if="{{title}}">
        <view class="nav-title">
          <text class="title-text">{{title}}</text>
          <view class="title-badge" wx:if="{{badge}}">{{badge}}</view>
        </view>
      </block>
      
      <slot name="center"></slot>
    </view>
    
    <!-- Âè≥‰æßÂå∫Âüü -->
    <view class="nav-right">
      <block wx:if="{{actions && actions.length}}">
        <view class="nav-actions">
          <block wx:for="{{actions}}" wx:key="id">
            <view 
              class="nav-action" 
              bindtap="onAction" 
              data-id="{{item.id}}"
              hover-class="action-hover"
            >
              <text class="action-icon">{{item.icon}}</text>
              <view class="action-badge" wx:if="{{item.badge}}">{{item.badge}}</view>
            </view>
          </block>
        </view>
      </block>
      
      <slot name="right"></slot>
    </view>
    
    <!-- ÊêúÁ¥¢Ê†èÔºàÂèØÈÄâÔºâ -->
    <block wx:if="{{showSearch}}">
      <view class="nav-search">
        <view class="search-container">
          <text class="search-icon">üîç</text>
          <input 
            class="search-input" 
            type="text" 
            placeholder="{{searchPlaceholder || 'ÊêúÁ¥¢...'}}"
            placeholder-class="search-placeholder"
            bindinput="onSearchInput"
            bindconfirm="onSearchConfirm"
            value="{{searchValue}}"
          />
          <view 
            class="search-clear" 
            bindtap="onClearSearch"
            wx:if="{{searchValue}}"
          >
            <text class="clear-icon">√ó</text>
          </view>
        </view>
      </view>
    </block>
  </view>
</view>