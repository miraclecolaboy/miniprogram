<view class="page">

<block wx:if="{{list.length}}">
  <view
    class="card address-card"
    wx:for="{{list}}"
    wx:key="id"
  >
    <!-- 左侧：地址内容（点击选择） -->
    <view class="addr-content" bindtap="onChoose" data-id="{{item.id}}">
      <view class="addr-top">
        <text class="addr-name">{{item.name}}</text>
        <text class="addr-phone">{{item.phone}}</text>
        <text wx:if="{{item.isDefault}}" class="addr-tag">默认</text>
      </view>
      <view class="addr-detail">{{item.address}}</view>
    </view>

    <!-- 右侧：操作区（竖排） -->
    <view class="addr-ops">

      <!-- 非默认地址显示“设为默认” -->
      <view
        wx:if="{{!item.isDefault}}"
        class="op-btn op-default"
        catchtap="onSetDefault"
        data-id="{{item.id}}"
      >
        设默认
      </view>

      <view
        class="op-btn"
        catchtap="onDelete"
        data-id="{{item.id}}"
      >
        删除
      </view>
    </view>
  </view>
</block>

<block wx:else>
  <view class="empty">暂无收货地址</view>
</block>

<view class="footer">
  <view class="primary-btn" bindtap="onAdd">
    新增地址
  </view>
</view>

</view>
